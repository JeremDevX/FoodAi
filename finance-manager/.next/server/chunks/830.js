"use strict";exports.id=830,exports.ids=[830],exports.modules={3830:(t,a,e)=>{e.d(a,{CP:()=>l,M6:()=>g,T8:()=>w,addGoal:()=>y,addTransaction:()=>o,db:()=>s,deleteTransaction:()=>u,exportData:()=>b,f1:()=>c,getSettings:()=>p,importData:()=>m,initializeDatabase:()=>i,updateGoal:()=>A,updateSettings:()=>f,updateTransaction:()=>d});var n=e(3462);class r extends n.ZP{constructor(){super("FinanceManager"),this.version(1).stores({transactions:"++id, date, amount, category, account, type",categories:"++id, name, type, parentId",goals:"++id, name, targetAmount, currentAmount, deadline",accounts:"++id, name, type, balance, currency, isActive",budgets:"++id, categoryId, amount, period, startDate",settings:"++id"})}}let s=new r;async function i(){try{console.warn("IndexedDB not available in this environment");return}catch(t){console.error("Error initializing database:",t)}}async function o(t){return await s.transactions.add({...t,createdAt:new Date,updatedAt:new Date})}async function c(t=100,a=0){return await s.transactions.orderBy("date").reverse().offset(a).limit(t).toArray()}async function d(t,a){return await s.transactions.update(t,{...a,updatedAt:new Date})}async function u(t){return await s.transactions.delete(t)}async function l(){return await s.categories.toArray()}async function g(){return await s.goals.toArray()}async function y(t){return await s.goals.add({...t,createdAt:new Date,updatedAt:new Date})}async function A(t,a){return await s.goals.update(t,{...a,updatedAt:new Date})}async function w(){return await s.accounts.toArray()}async function p(){return(await s.settings.toArray())[0]||null}async function f(t){let a=await p();if(a?.id)return await s.settings.update(a.id,t)}async function b(){let[t,a,e,n,r,i]=await Promise.all([s.transactions.toArray(),s.categories.toArray(),s.goals.toArray(),s.accounts.toArray(),s.budgets.toArray(),s.settings.toArray()]);return{version:"1.0.0",exportedAt:new Date,transactions:t,categories:a,goals:e,accounts:n,budgets:r,settings:i[0]||null}}async function m(t){await Promise.all([s.transactions.clear(),s.categories.clear(),s.goals.clear(),s.accounts.clear(),s.budgets.clear(),s.settings.clear()]),await Promise.all([s.transactions.bulkAdd(t.transactions||[]),s.categories.bulkAdd(t.categories||[]),s.goals.bulkAdd(t.goals||[]),s.accounts.bulkAdd(t.accounts||[]),s.budgets.bulkAdd(t.budgets||[]),t.settings?s.settings.add(t.settings):Promise.resolve()])}}};